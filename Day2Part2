    internal class Program
    {
        public static void Main(string[] args)
        {
            string input = File.ReadAllText(@"C:\Users\Josep\Documents\AOC2025\Day2.txt");
            
            char[] deliminators = new[] { '-', ',' };
            string[] splitInput = input.Split(deliminators);

            int longestIDLength = 0;

            List<IDRange> idRanges = new List<IDRange>(splitInput.Length / 2);

            for (int i = 0; i < splitInput.Length / 2; i++)
            {
                string lowerString = splitInput[2 * i];
                string upperString = splitInput[2 * i + 1];

                longestIDLength = Math.Max(lowerString.Length, longestIDLength);
                longestIDLength = Math.Max(upperString.Length, longestIDLength);
                
                long lowerBound = long.Parse(lowerString);
                long upperBound = long.Parse(upperString);
                
                idRanges.Add(new IDRange(lowerBound, upperBound));
            }
            
            HashSet<long> totalInvalidIDs = new HashSet<long>();

            for (int repCount = 2; repCount <= 10; repCount++)
            {
                for (int i = 1; i <= 99999; i++)
                {
                    string repeatableString = i.ToString();

                    bool stringIsTooLarge = repeatableString.Length * repCount > 10;

                    if (stringIsTooLarge)
                    {
                        break;
                    }

                    string currentInvalidID = "";

                    for (int j = 0; j < repCount; j++)
                    {
                        currentInvalidID += repeatableString;
                    }

                    totalInvalidIDs.Add(long.Parse(currentInvalidID));
                }
            }
            
            long invalidIDSum = 0;

            foreach (long invalidID in totalInvalidIDs)
            {
                for (int i = 0; i < idRanges.Count; i++)
                {
                    if (idRanges[i].IsInRange(invalidID))
                    {
                        invalidIDSum += invalidID;
                        break;
                    }
                }
            }

            Console.WriteLine(invalidIDSum);

            
        }

        public struct IDRange
        {
            private long lowerBound;
            private long upperBound;

            public IDRange(long lowerBound, long upperBound)
            {
                this.lowerBound = lowerBound;
                this.upperBound = upperBound;
            }

            public bool IsInRange(long id)
            {
                return id >= lowerBound && id <= upperBound;
            }
        }
    }
